From f9c5ada2d4dfbe282bf237a68529790de62f8d3e Mon Sep 17 00:00:00 2001
From: Dmitry <iamdmitrymayorov@gmail.com>
Date: Wed, 26 Apr 2017 21:58:10 +0300
Subject: [PATCH] Minor improvements on 404 page styling

---
 assets/css/sass/components/_forms.scss       | 15 -------
 assets/css/sass/components/_search-form.scss | 11 ++++++
 assets/css/sass/project.scss                 |  1 +
 assets/css/sass/templates/_page-404.scss     | 28 ++++++-------
 assets/css/sass/templates/_page.scss         |  1 -
 assets/css/sass/templates/_search.scss       |  8 ----
 index.php                                    |  2 +-
 languages/counter.pot                        | 16 +++++---
 style.css                                    | 59 +++++++++-------------------
 template-parts/content-none.php              |  6 ++-
 10 files changed, 59 insertions(+), 88 deletions(-)
 create mode 100644 assets/css/sass/components/_search-form.scss

diff --git a/assets/css/sass/components/_forms.scss b/assets/css/sass/components/_forms.scss
index 1c1a673..b432c2b 100755
--- a/assets/css/sass/components/_forms.scss
+++ b/assets/css/sass/components/_forms.scss
@@ -48,10 +48,6 @@ input[type='tel'] {
 	height: 3em;
 }
 
-label {
-	opacity: $opacity;
-}
-
 select {
 	display: block;
 	height: 3em;
@@ -111,14 +107,3 @@ input:focus:-ms-input-placeholder {
 	right: 0;
 	bottom: 0;
 }
-
-.search-form {
-	position: relative;
-	margin-bottom: 1.5em;
-}
-
-.search-submit {
-	position: absolute;
-	top: 0;
-	right: 0;
-}
diff --git a/assets/css/sass/components/_search-form.scss b/assets/css/sass/components/_search-form.scss
new file mode 100644
index 0000000..178d83f
--- /dev/null
+++ b/assets/css/sass/components/_search-form.scss
@@ -0,0 +1,11 @@
+/* Search Form */
+
+.search-form {
+	display: flex;
+	label {
+		display: block;
+		width: 100%;
+		margin-right: -1px;
+	}
+	margin-bottom: 2em;
+}
diff --git a/assets/css/sass/project.scss b/assets/css/sass/project.scss
index c568298..4ca6ad3 100644
--- a/assets/css/sass/project.scss
+++ b/assets/css/sass/project.scss
@@ -56,6 +56,7 @@ Nicolas Gallagher and Jonathan Neal http://necolas.github.com/normalize.css/
 @import 'components/captions';
 @import 'components/accessibility';
 @import 'components/clearings';
+@import 'components/search-form';
 
 /**
  * Layout
diff --git a/assets/css/sass/templates/_page-404.scss b/assets/css/sass/templates/_page-404.scss
index 7375470..ccfa536 100644
--- a/assets/css/sass/templates/_page-404.scss
+++ b/assets/css/sass/templates/_page-404.scss
@@ -1,22 +1,18 @@
 /* Not found */
 
+.error404,
+.search-no-results {
+	.site-content.wrap {
+		@media screen and ( min-width: $md ) {
+			@include with-layout( $susy-static ) {
+				max-width: span( 6 );
+			}
+			padding-right: 0;
+			padding-left: 0;
+		}
+	}
+}
 
 .not-found {
-	@include with_layout( $susy-static ) {
-		max-width: span( 6 );
-	}
-	margin: 10% auto 20%;
 	text-align: center;
-	.search-form {
-		position: relative;
-		margin-bottom: 1.5em;
-	}
-	.search-field {
-		padding-right: 10em;
-	}
-	.search-submit {
-		position: absolute;
-		top: 0;
-		right: 0;
-	}
 }
diff --git a/assets/css/sass/templates/_page.scss b/assets/css/sass/templates/_page.scss
index 3443bab..cc4fe46 100644
--- a/assets/css/sass/templates/_page.scss
+++ b/assets/css/sass/templates/_page.scss
@@ -76,7 +76,6 @@
 			margin-bottom: 1em;
 		}
 	}
-	
 	.post-thumbnail {
 		margin-top: 0.5em;
 	}
diff --git a/assets/css/sass/templates/_search.scss b/assets/css/sass/templates/_search.scss
index 4ce4c2f..dec96e9 100644
--- a/assets/css/sass/templates/_search.scss
+++ b/assets/css/sass/templates/_search.scss
@@ -18,11 +18,7 @@
 			max-width: span( 6 );
 		}
 		margin-right: auto;
-		margin-bottom: 1.5em;
 		margin-left: auto;
-		@media screen and ( min-width: $sm ) {
-			margin-bottom: 4.5em;
-		}
 	}
 	.hentry {
 		@extend .clear;
@@ -33,10 +29,6 @@
 		margin-bottom: 1.5em;
 		margin-left: auto;
 		word-wrap: break-word;
-		@media screen and ( min-width: $md ) {
-			margin-bottom: 3em;
-			padding-bottom: 1.5em;
-		}
 	}
 	.entry-title {
 		@include font-size( 24/18 );
diff --git a/index.php b/index.php
index 294bacc..9cb5975 100644
--- a/index.php
+++ b/index.php
@@ -27,7 +27,7 @@ get_header(); ?>
 
 	</div><!-- #primary -->
 
-	<?php if ( have_posts() && 'default' == get_theme_mod( 'blog_layout', 'default' ) ) : ?>
+	<?php if ( 'default' == get_theme_mod( 'blog_layout', 'default' ) ) : ?>
 
 		<?php get_sidebar(); ?>
 
diff --git a/languages/counter.pot b/languages/counter.pot
index 56ab91d..1929b62 100644
--- a/languages/counter.pot
+++ b/languages/counter.pot
@@ -426,21 +426,27 @@ msgid "Nothing Found"
 msgstr ""
 
 #: template-parts/content-none.php:26
-msgid "Publish your first post"
+msgid "Looks like you don't have any posts published yet."
 msgstr ""
 
-#: template-parts/content-none.php:30
+#: template-parts/content-none.php:28
+msgid "Publish New Post"
+msgstr ""
+
+#: template-parts/content-none.php:32
 msgid "Nothing found. Try again with different keywords."
 msgstr ""
 
-#: template-parts/content-none.php:36
+#: template-parts/content-none.php:38
 msgid ""
 "The page you are looking for has been moved or does not exist. Click on the "
 "site logo to go to the homepage or try searching."
 msgstr ""
 
-#: template-parts/content-none.php:42
-msgid "Nothing found. Perhaps searching will help."
+#: template-parts/content-none.php:44
+msgid ""
+"Nothing found. Click on the site logo to go to the homepage or try "
+"searching."
 msgstr ""
 
 #: template-parts/content-page.php:26 template-parts/content-single-post.php:28
diff --git a/style.css b/style.css
index 785a573..a2865aa 100644
--- a/style.css
+++ b/style.css
@@ -666,10 +666,6 @@ input[type='tel'] {
 	height: 3em;
 }
 
-label {
-	opacity: 0.5;
-}
-
 select {
 	display: block;
 	height: 3em;
@@ -729,17 +725,6 @@ input:focus:-ms-input-placeholder {
 	bottom: 0;
 }
 
-.search-form {
-	position: relative;
-	margin-bottom: 1.5em;
-}
-
-.search-submit {
-	position: absolute;
-	top: 0;
-	right: 0;
-}
-
 /* Alignments */
 
 .alignleft {
@@ -1047,6 +1032,20 @@ p > video {
 	content: '';
 }
 
+/* Search Form */
+
+.search-form {
+	display: -ms-flexbox;
+	display: flex;
+	margin-bottom: 2em;
+}
+
+.search-form label {
+	display: block;
+	width: 100%;
+	margin-right: -1px;
+}
+
 /**
  * Layout
  */
@@ -2582,26 +2581,9 @@ body {
 /* Not found */
 
 .not-found {
-	max-width: 612px;
-	margin: 10% auto 20%;
 	text-align: center;
 }
 
-.not-found .search-form {
-	position: relative;
-	margin-bottom: 1.5em;
-}
-
-.not-found .search-field {
-	padding-right: 10em;
-}
-
-.not-found .search-submit {
-	position: absolute;
-	top: 0;
-	right: 0;
-}
-
 /* Search results */
 
 .search-results .page-header {
@@ -2621,7 +2603,6 @@ body {
 .search-results .search-form {
 	max-width: 612px;
 	margin-right: auto;
-	margin-bottom: 1.5em;
 	margin-left: auto;
 }
 
@@ -3049,10 +3030,6 @@ body {
 		margin-left: 50%;
 	}
 
-	.search-results .search-form {
-		margin-bottom: 4.5em;
-	}
-
 	#infinite-handle,
 	.infinite-loader {
 		margin-bottom: 3em;
@@ -3192,9 +3169,11 @@ body {
 		margin-bottom: 1em;
 	}
 
-	.search-results .hentry {
-		margin-bottom: 3em;
-		padding-bottom: 1.5em;
+	.error404 .site-content.wrap,
+	.search-no-results .site-content.wrap {
+		max-width: 612px;
+		padding-right: 0;
+		padding-left: 0;
 	}
 }
 
diff --git a/template-parts/content-none.php b/template-parts/content-none.php
index 7c4c221..8ce452e 100755
--- a/template-parts/content-none.php
+++ b/template-parts/content-none.php
@@ -23,7 +23,9 @@
 
 		<?php if ( is_home() && current_user_can( 'publish_posts' ) ) : ?>
 
-			<?php printf( '<p><a href="%1$s">%2$s</a></p>', esc_url( admin_url( 'post-new.php' ) ), esc_html__( 'Publish your first post', 'counter' ) ); ?>
+			<?php printf( '<p>%s</p>', esc_html__( 'Looks like you don\'t have any posts published yet.', 'counter' ) ); ?>
+
+			<?php printf( '<p><a class="btn btn-accent" href="%1$s">%2$s</a></p>', esc_url( admin_url( 'post-new.php' ) ), esc_html__( 'Publish New Post', 'counter' ) ); ?>
 
 		<?php elseif ( is_search() ) : ?>
 
@@ -39,7 +41,7 @@
 
 		<?php else : ?>
 
-			<p><?php esc_html_e( 'Nothing found. Perhaps searching will help.', 'counter' ); ?></p>
+			<p><?php esc_html_e( 'Nothing found. Click on the site logo to go to the homepage or try searching.', 'counter' ); ?></p>
 
 			<?php get_search_form(); ?>
 
-- 
2.11.0 (Apple Git-81)

